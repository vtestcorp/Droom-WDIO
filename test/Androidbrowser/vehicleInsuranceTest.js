const base = require("../../BaseClass/base");
const vehicleInsurancePage = require("../../Pages/Androidbrowser/vehicleInsurancePage");

describe('Vehicle Insurance', async () => {
    beforeEach(async () => {
        await driver.closeApp()
        await driver.launchApp()
    });
    it('TC_01 Verify the Functionality of Get Insurance', async () => {
        //await vehicleInsurancePage.chromeConditions()
        browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information displayed")
        expect(await vehicleInsurancePage.personal_Information).toBeDisplayed()
        console.log("Personal Information displayed")
        expect(await vehicleInsurancePage.insurance_Information).toBeDisplayed()
        console.log("Insurance Information displayed")
        await base.swipeUp()
        expect(await vehicleInsurancePage.car).toBeDisplayed()
        console.log("Car option displayed")
        expect(await vehicleInsurancePage.bike).toBeDisplayed()
        console.log("Bike option displayed")
        expect(await vehicleInsurancePage.scooter).toBeDisplayed()
        console.log("Scooter option displayed")
    });
    it('TC_02 Verify the process to Apply for Vehicle Insurance in 3 Easy Steps', async () => {
        //await vehicleInsurancePage.chromeConditions()
        browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information displayed")
        expect(await vehicleInsurancePage.personal_Information).toBeDisplayed()
        console.log("Personal Information displayed")
        expect(await vehicleInsurancePage.insurance_Information).toBeDisplayed()
        console.log("Insurance Information displayed")
    });
    it('TC_03 Verify Select vehicle Condition -Used functionality', async () => {
        //await vehicleInsurancePage.chromeConditions()
        browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information displayed")
        expect(await vehicleInsurancePage.personal_Information).toBeDisplayed()
        console.log("Personal Information displayed")
        expect(await vehicleInsurancePage.insurance_Information).toBeDisplayed()
        console.log("Insurance Information displayed")
       // await vehicleInsurancePage.switchToWebview()
        expect(await vehicleInsurancePage.used_condition).toBeDisplayed()
        console.log("used button isSelected")
        await vehicleInsurancePage.switchToNativeApp()
    }); 
    it('TC_04 Verify "Select vehicle Condition -New functionality', async () => {
        browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information displayed")
        expect(await vehicleInsurancePage.personal_Information).toBeDisplayed()
        console.log("Personal Information displayed")
        expect(await vehicleInsurancePage.insurance_Information).toBeDisplayed()
        console.log("Insurance Information displayed")
        expect(await vehicleInsurancePage.new_condition).toBeDisplayed()
        console.log("Vehicle condition button New is displayed")
        await (await vehicleInsurancePage.new_condition).click()
        console.log("New button Selected")
    });
    it('TC_05 Verify "Select From Dropdown" functionality.', async () => {
       browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.heading).toBeDisplayed()
        console.log(await (await vehicleInsurancePage.heading).getText())
        //await browser.pause(3000)
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information displayed")
        expect(await vehicleInsurancePage.personal_Information).toBeDisplayed()
        console.log("Personal Information displayed")
        expect(await vehicleInsurancePage.insurance_Information).toBeDisplayed()
        console.log("Insurance Information displayed")
        await base.swipeUp()
        expect(await vehicleInsurancePage.enterNo).toBeDisplayed()
         console.log("Enter Vehicle Registration Number shown")
        console.log("Vehicle Information Tab Dispalyed")
         await(await vehicleInsurancePage.enterNo).click()
        await (await vehicleInsurancePage.enterNo).setValue("MH13Y4444")
        console.log("User entered Valid Registration Number")
        await browser.pause(3000)
        //await (await vehicleInsurancePage.selectDropDown).waitForDisplayed()
       // await (await vehicleInsurancePage.next).click()
        expect(await vehicleInsurancePage.select_Dropdown).toBeDisplayed()
        console.log("Select Drop Down is Displayed")
        await (await vehicleInsurancePage.select_Dropdown).click()
        console.log("Clicked on Select DropDown")
        expect(await vehicleInsurancePage.make).toBeDisplayed()
        console.log("Make Displayed")
        expect(await vehicleInsurancePage.model).toBeDisplayed()
        console.log("Model Displayed")
        expect(await vehicleInsurancePage.year).toBeDisplayed()
        expect(await vehicleInsurancePage.trim).toBeDisplayed()
    });
    it('TC_06 Verify "Select Make" functionality of Select From Dropdown option', async () => {
        browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.heading).toBeDisplayed()
        console.log(await (await vehicleInsurancePage.heading).getText())
        //await browser.pause(3000)
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information displayed")
        expect(await vehicleInsurancePage.personal_Information).toBeDisplayed()
        console.log("Personal Information displayed")
        expect(await vehicleInsurancePage.insurance_Information).toBeDisplayed()
        console.log("Insurance Information displayed")
        await base.swipeUp()
        expect(await vehicleInsurancePage.enterNo).toBeDisplayed()
         console.log("Enter Vehicle Registration Number shown")
        console.log("Vehicle Information Tab Dispalyed")
        await (await vehicleInsurancePage.enterNo).setValue("MH13Y4444")
        console.log("User entered Valid Registration Number")
        await browser.pause(5000)
        await (await vehicleInsurancePage.select_Dropdown).waitForDisplayed()
        expect(await vehicleInsurancePage.select_Dropdown).toBeDisplayed()
        console.log("Select Drop Down")
        await (await vehicleInsurancePage.select_Dropdown).click()
        //await base.switchToWebview()
        await (await vehicleInsurancePage.makeDropDown).click()
         await base.switchToNativeApp()
        console.log("Clicked on Make Drop down to select Make of Expected vehicle")
    });
     it("TC_07 Verify Select Model functionality of Select From Dropdown option", async () => {
       browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.heading).toBeDisplayed()
        console.log(await (await vehicleInsurancePage.heading).getText())
        //await browser.pause(3000)
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information displayed")
        expect(await vehicleInsurancePage.personal_Information).toBeDisplayed()
        console.log("Personal Information displayed")
        expect(await vehicleInsurancePage.insurance_Information).toBeDisplayed()
        console.log("Insurance Information displayed")
        await base.swipeUp()
        expect(await vehicleInsurancePage.enterNo).toBeDisplayed()
         console.log("Enter Vehicle Registration Number shown")
        console.log("Vehicle Information Tab Dispalyed")
        await (await vehicleInsurancePage.enterNo).setValue("MH13Y4444")
        console.log("User entered Valid Registration Number")
        await browser.pause(5000)
        await (await vehicleInsurancePage.select_Dropdown).waitForDisplayed()
        await (await vehicleInsurancePage.select_Dropdown).waitForDisplayed()
        expect(await vehicleInsurancePage.select_Dropdown).toBeDisplayed()
        await (await vehicleInsurancePage.select_Dropdown).click()
        //await base.switchToWebview()
        await (await vehicleInsurancePage.modelDropdown).click()
         await base.switchToNativeApp()
        console.log("Model Drop Down id displayed")
   });

   it("TC_08 Verify Select Year Functionality Of Select From Dropdown Option", async () => {
        browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.heading).toBeDisplayed()
        console.log(await (await vehicleInsurancePage.heading).getText())
        //await browser.pause(3000)
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information displayed")
        expect(await vehicleInsurancePage.personal_Information).toBeDisplayed()
        console.log("Personal Information displayed")
        expect(await vehicleInsurancePage.insurance_Information).toBeDisplayed()
        console.log("Insurance Information displayed")
        await base.swipeUp()
        expect(await vehicleInsurancePage.enterNo).toBeDisplayed()
         console.log("Enter Vehicle Registration Number shown")
        console.log("Vehicle Information Tab Dispalyed")
        await (await vehicleInsurancePage.enterNo).setValue("MH13Y4444")
        console.log("User entered Valid Registration Number")
        await browser.pause(5000)
        await (await vehicleInsurancePage.select_Dropdown).waitForDisplayed()
        expect(await vehicleInsurancePage.select_Dropdown).toBeDisplayed()
        await (await vehicleInsurancePage.select_Dropdown).click()
       // await base.switchToWebview()
        await (await vehicleInsurancePage.yearDropdown).waitForDisplayed()
        expect(await vehicleInsurancePage.yearDropdown).toBeDisplayed()
        await (await vehicleInsurancePage.yearDropdown).click()
       await base.switchToNativeApp()
       console.log("Year Drop Down is displayed")
});
it("TC_09 Verify Select Trim Functionality Of Select From Dropdown option", async () => {
        browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.heading).toBeDisplayed()
        console.log(await (await vehicleInsurancePage.heading).getText())
        //await browser.pause(3000)
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information displayed")
        expect(await vehicleInsurancePage.personal_Information).toBeDisplayed()
        console.log("Personal Information displayed")
        expect(await vehicleInsurancePage.insurance_Information).toBeDisplayed()
        console.log("Insurance Information displayed")
        await base.swipeUp()
        expect(await vehicleInsurancePage.enterNo).toBeDisplayed()
         console.log("Enter Vehicle Registration Number shown")
        console.log("Vehicle Information Tab Dispalyed")
        await (await vehicleInsurancePage.enterNo).setValue("MH13Y4444")
        console.log("User entered Valid Registration Number")
        await browser.pause(5000)
       // await (await vehicleInsurancePage.select_Dropdown).waitForDisplayed()
        expect(await vehicleInsurancePage.select_Dropdown).toBeDisplayed()
        await (await vehicleInsurancePage.select_Dropdown).click()
        //await base.switchToWebview()
       // await (await vehicleInsurancePage.trimDropDown).waitForDisplayed()
       expect(await vehicleInsurancePage.trimDropDown).toBeDisplayed()
       await (await vehicleInsurancePage.trimDropDown).click()
       await base.switchToNativeApp()
        console.log("Trim Drop Down id displayed")
});
it("TC_10 Verify the Back Button Functionality on Personal Information page of Insurance", async () => {
         browser.url('/insurance')
        console.log("insurance page displayed")
        expect(await vehicleInsurancePage.heading).toBeDisplayed()
        console.log(await (await vehicleInsurancePage.heading).getText())
        expect(await vehicleInsurancePage.vehicle_Information).toBeDisplayed()
        console.log("Vehicle Information Tab Dispalyed")
        await (await vehicleInsurancePage.used_condition).click()
        //await (await vehicleInsurancePage.car).click()
        await base.swipeUp()
        expect(await vehicleInsurancePage.enterNo).toBeDisplayed()
        console.log("Enter Vehicle Registration Number shown")
        console.log("Vehicle Information Tab Dispalyed")
        await (await vehicleInsurancePage.enterNo).setValue("MH13Y4444")
        console.log("User entered Valid Registration Number")
        //await (await vehicleInsurancePage.maruti).click()
        //console.log("CLicked to select vehicle")
        //await (await vehicleInsurancePage.maruti).setValue("Tata Indigo LS 2003")
        //await browser.pause(3000)
       // await (await vehicleInsurancePage.pickModel).click()
        //console.log("User select Vehicle Model")
        await (await vehicleInsurancePage.select_Dropdown).click()
        await vehicleInsurancePage.input()
        //await (await vehicleInsurancePage.nextBtn).waitForDisplayed({ timeout: 5000 })
        await (await vehicleInsurancePage.next).click()
        console.log("User Click On next Button")
        await base.switchToWebview()
        expect(await vehicleInsurancePage.name).toBeDisplayed()
        console.log("Name displayed on Personal Information")
        expect(await vehicleInsurancePage.email).toBeDisplayed()
        console.log("EmailID displayed on Personal Information")
        expect(await vehicleInsurancePage.Number).toBeDisplayed()
        console.log("Contact Number displayed on Personal Information")
        expect(await vehicleInsurancePage.BackBtn1).toBeDisplayed()
        console.log("Back Button Shown on Vehicle Information Page")
        await (await vehicleInsurancePage.BackBtn1).click()
        //await base.switchToNativeApp()
        await (await vehicleInsurancePage.selectCondition).waitForDisplayed({ timeout: 5000 })
        expect(await vehicleInsurancePage.selectCondition).toBeDisplayed()
        console.log("After ckick on Back Button user able to navigate to Pravious Page")
    });

});